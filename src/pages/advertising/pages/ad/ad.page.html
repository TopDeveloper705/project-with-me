<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen *ngIf="ad">
  <!--<div
    class="header-image"
    [ngStyle]="{'background-image': 'url(' + ad.image + ')'}"
  ></div>-->
  <div class="image-wrapper">
    <div
      class="image-background"
      [style.backgroundImage]="'url(' + helper.getImageUrl(ad.image?.url) + ')'"
    ></div>

    <div
      class="image"
      [style.backgroundImage]="'url(' + helper.getImageUrl(ad.image?.url) + ')'"
    ></div>
  </div>

  <div class="main-content">
    <h1>{{ad.title}}</h1>

    <div class="price">
      <ion-button (click)="shareAd()" class="share" color="white"
        ><ion-icon name="share-outline"></ion-icon
      ></ion-button>
      <ng-container
        *ngIf="!(ad.category?.title == 'Instagram' || ad.category?.title == 'Youtube' || ad.category?.title == 'Spotify') "
      >
        <ng-container *ngIf="ad.offerPrice">
          <div class="small">f√ºr nur</div>
          <div class="amount offer">{{ad.offerPrice |currency:'EUR':true}}</div>
          <div class="small">
            statt
            <span class="normal-price">{{ad.price |currency:'EUR':true}}</span>
          </div>
        </ng-container>

        <ng-container *ngIf="!ad.offerPrice">
          <span class="amount">{{ad.price |currency:'EUR':true}}</span>
        </ng-container></ng-container
      >

      <ion-button
        (click)="addOrRemoveFromWishList()"
        class="wishlist"
        color="white"
        ><ion-icon *ngIf="!isInWishList" name="heart-outline"></ion-icon>
        <ion-icon *ngIf="isInWishList" name="heart"></ion-icon
      ></ion-button>
    </div>

    <div *ngIf="ad.description" class="description">
      <p>{{ad.description}}</p>
    </div>

    <div class="deal">
      <ion-button
        *ngIf="!(ad.category?.type == 'Instagram' || ad.category?.type == 'Youtube' || ad.category?.type == 'Spotify') "
        expand="block"
        size="large"
        (click)="helper.openLink(ad.link)"
        >Zum Deal</ion-button
      >
      <ion-button
        *ngIf="ad.category?.type == 'Instagram'"
        expand="block"
        size="large"
        (click)="helper.openLink(ad.link)"
        >Zu Instagram</ion-button
      >
      <ion-button
        *ngIf="ad.category?.type == 'Youtube'"
        expand="block"
        size="large"
        (click)="helper.openLink(ad.link)"
        >Zu Youtube</ion-button
      >
      <ion-button
        *ngIf="ad.category?.type == 'Spotify'"
        expand="block"
        size="large"
        (click)="helper.openLink(ad.link)"
        >Zu Spotify</ion-button
      >
    </div>
  </div>
</ion-content>

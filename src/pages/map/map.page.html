<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar>
    <div class="flex justify-center h-16 text-3xl pt-4">
      <div *ngIf="currentTab == 'map'">Karte</div>
      <div *ngIf="currentTab == 'friends'">Freunde</div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="relative">
  <div class="background-gradient"></div>
  <div class="z-10 pt-2 px-8">
    <ion-segment
      class="z-10 h-10"
      mode="ios"
      [value]="currentTab"
      (ionChange)="changeTab($event)"
    >
      <ion-segment-button mode="ios" value="map"> Karte </ion-segment-button>
      <ion-segment-button mode="ios" value="friends">
        Freunde
      </ion-segment-button>
    </ion-segment>
  </div>

  <!--<ion-button fill="none" class="close" (click)="close()">
    <ion-icon name="close-circle-outline"></ion-icon>
  </ion-button>-->
  <div [hidden]="!(currentTab == 'map')" class="map">
    <google-map [center]="center" [zoom]="zoom" [options]="options">
      <map-marker
        *ngFor="let markerPosition of markerPositions"
        [position]="markerPosition"
      ></map-marker>
    </google-map>
  </div>
  <div *ngIf="currentTab == 'friends'" class="p-5">
    Freunde
  </div>

  <div class="absolute bottom-20 flex px-8 w-full justify-center">
    <ion-button [hidden]="!(currentTab == 'map')" color="primary" class="w-full font-normal">Filtern</ion-button>
    <ion-button [hidden]="!(currentTab == 'friends')" color="primary" class="w-full font-normal" (click)="share()">Teile die App mit Freunden</ion-button>
  </div>
  <!--
  <ion-fab
    *ngIf="currentTab == 'map'"
    vertical="bottom"
    horizontal="start"
    slot="fixed"
  >
    <ion-fab-button (click)="getCurrentPosition()" [disabled]="locationLoading">
      <ion-icon *ngIf="!locationLoading" name="location-outline"></ion-icon>
      <ion-spinner *ngIf="locationLoading"></ion-spinner>
    </ion-fab-button>
  </ion-fab>
-->
  <!--<ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="presentPopover($event)">
      <ion-icon name="funnel-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>-->
</ion-content>
